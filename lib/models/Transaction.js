"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const log4js = require("koa-log4");
require("reflect-metadata");
const _1 = require(".");
const _log = log4js.getLogger('Transaction');
class Transaction {
    constructor(daoTransName) {
        this.daoTransName = daoTransName;
        this.trans = _1.ORMContext.getContext().getBean(this.daoTransName);
    }
    async begin() {
        return this.trans.begin();
    }
    async commit() {
        return this.trans.commit();
    }
    async rollback() {
        return this.trans.rollback();
    }
    getDao(tableName) {
        return this.trans.getDao(tableName);
    }
}
exports.default = Transaction;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJhbnNhY3Rpb24uanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2dndHRvbzQ0L0Rlc2t0b3AvQmFzZVNvY2tldFNlcnZlci9zcmMvIiwic291cmNlcyI6WyJtb2RlbHMvVHJhbnNhY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtQ0FBbUM7QUFDbkMsNEJBQTBCO0FBQzFCLHdCQUE2QztBQUU3QyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBRTdDO0lBRUksWUFBb0IsWUFBZTtRQUFmLGlCQUFZLEdBQVosWUFBWSxDQUFHO1FBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsYUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUNNLEtBQUssQ0FBQyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFDTSxLQUFLLENBQUMsTUFBTTtRQUNmLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBQ00sS0FBSyxDQUFDLFFBQVE7UUFDakIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFDTSxNQUFNLENBQUMsU0FBaUI7UUFDM0IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN4QyxDQUFDO0NBQ0o7QUFqQkQsOEJBaUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbG9nNGpzIGZyb20gJ2tvYS1sb2c0JztcbmltcG9ydCAncmVmbGVjdC1tZXRhZGF0YSc7XG5pbXBvcnQgeyBJVHJhbnNhY3Rpb24sIE9STUNvbnRleHQgfSBmcm9tICcuJztcblxuY29uc3QgX2xvZyA9IGxvZzRqcy5nZXRMb2dnZXIoJ1RyYW5zYWN0aW9uJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zYWN0aW9uPFQ+IGltcGxlbWVudHMgSVRyYW5zYWN0aW9uIHtcbiAgICBwcml2YXRlIHRyYW5zOiBhbnk7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYW9UcmFuc05hbWU6IFQpIHtcbiAgICAgICAgdGhpcy50cmFucyA9IE9STUNvbnRleHQuZ2V0Q29udGV4dCgpLmdldEJlYW4odGhpcy5kYW9UcmFuc05hbWUpO1xuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgYmVnaW4oKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnMuYmVnaW4oKTtcbiAgICB9XG4gICAgcHVibGljIGFzeW5jIGNvbW1pdCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFucy5jb21taXQoKTtcbiAgICB9XG4gICAgcHVibGljIGFzeW5jIHJvbGxiYWNrKCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zLnJvbGxiYWNrKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXREYW8odGFibGVOYW1lOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFucy5nZXREYW8odGFibGVOYW1lKTtcbiAgICB9XG59XG4iXX0=